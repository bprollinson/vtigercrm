<!--*********************************************************************************
** The contents of this file are subject to the vtiger CRM Public License Version 1.0
 * ("License"); You may not use this file except in compliance with the License
 * The Original Code is:  vtiger CRM Open Source
 * The Initial Developer of the Original Code is vtiger.
 * Portions created by vtiger are Copyright (C) vtiger.
 * All Rights Reserved.
*
 ********************************************************************************/
-->
<!-- BEGIN: main -->
<script type="text/javascript" src="include/js/general.js"></script>


<div id="item_movelayer" style="display:none;position:absolute;" bgcolor="red">
</div>
<div id="tempdiv" style="display:block;position:absolute;left:350px;top:200px;"></div>
<script>
var moveLayerObj=getObj('item_movelayer')
var itemOnMove=true;
function startDrag(roleId,roleName)
{
	xPos = findPosX(getObj(roleId));
	yPos = findPosY(getObj(roleId));
	getObj('item_movelayer').innerHTML=roleName;
	getObj('item_movelayer').style.left=(xPos+getObj(roleId).offsetWidth)+"px";
	getObj('item_movelayer').style.top=(yPos+10)+"px";
	getObj('item_movelayer').style.display="block";
	getObj('item_movelayer').style.color="red";
}
/*
function doItemSelect(ev) {
        var itemObj;
        if (browser_ie) itemObj=window.event.srcElement
        else if (browser_nn4 || browser_nn6) itemObj=ev.target

	moveLayerObj.style.left=findPosX(itemObj)
        moveLayerObj.style.top=findPosY(itemObj)
        moveLayerObj.innerHTML=itemObj.innerHTML

}
*/
function endItemMove(ev)
{
        moveLayerObj.style.left=-1000+'px'
        moveLayerObj.style.top=-1000+'px'

        if (itemOnMove==true) {
                if (browser_ie) var srcElement=window.event.srcElement
                else if (browser_nn4 || browser_nn6) var srcElement=ev.target
	}
	itemOnMove = false;
	moveLayerObj.style.display=""
}


function doItemMove(ev)
{
        var posLeft=moveLayerObj.style.left
        posLeft=posLeft.substr(0,moveLayerObj.style.left.indexOf('p'))

        if (posLeft>0) {
                clearTextSelection();
                if (browser_ie) {
                        if (window.event.clientY+window.screenTop+50>=window.screen.height-50) document.body.scrollTop+=20
                        else if (window.event.clientY<=50) document.body.scrollTop-=20

                        moveLayerObj.style.left=window.event.clientX+document.body.scrollLeft
                        moveLayerObj.style.top=window.event.clientY+document.body.scrollTop
                } else if (browser_nn4 || browser_nn6) {
                        if (ev.screenY+50>=window.screen.height-50) window.scrollBy(0,20)
                        else if (ev.screenY<=50) window.scrollBy(0,-20)

                        moveLayerObj.style.left=ev.pageX+10
                        moveLayerObj.style.top=ev.pageY+10
                }
                itemOnMove=true
        }
}

function stopDrag()
{
	alert('bbbbbb');
}


function showhide(argg)
{
	var harray=argg.split(",");
	var harrlen = harray.length;
	var i;
	for(i=0; i<harrlen; i++)
	{
        	var x=document.getElementById(harray[i]).style
        	if (x.display=="none")
        	{
                	x.display="block"

        	}
        	else
		{
                        x.display="none"
                }
	}
}
function showx(argg)
{
	var x=document.getElementById(argg).style;
	x.display="block";
	x.position="relative";
}
function hidex(argg)
{
	var x=document.getElementById(argg).style;
	x.display="none";
}

function ajaxSaveResponse(response)
{
   document.getElementById("tempdiv").innerHTML=response.responseText;
}

function DeleteRole(roleid)
{
    //show("an_busy");
    var ajaxObj = new Ajax(ajaxSaveResponse);
    var urlstring = "module=Users&action=UsersAjax&file=RoleDeleteStep1&roleid="+roleid;
    ajaxObj.process("index.php?",urlstring);
}

</script>
<!-- END: main -->
